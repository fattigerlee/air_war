{"version":3,"file":"bundle.js","sources":["../../src/ui/layaMaxUI.ts","../../src/common/Util.ts","../../src/common/Config.ts","../../src/view/game/Enemy.ts","../../src/model/Hero.ts","../../src/view/game/Bullet.ts","../../src/view/game/Hero.ts","../../src/view/game/Ufo.ts","../../src/common/EventManager.ts","../../src/common/EventType.ts","../../src/view/game/Buff.ts","../../src/view/game/GameControl.ts","../../src/view/game/Background.ts","../../src/view/Adjust.ts","../../src/view/game/GameScene.ts","../../src/view/login/LoginScene.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport View=Laya.View;\r\nimport Dialog=Laya.Dialog;\r\nimport Scene=Laya.Scene;\nvar REG: Function = Laya.ClassUtils.regClass;\nexport module ui.scene {\r\n    export class gameSceneUI extends Laya.Scene {\r\n\t\tpublic background:Laya.Sprite;\n\t\tpublic scaleGroup:Laya.Box;\n\t\tpublic gameBox:Laya.Sprite;\n\t\tpublic buff:Laya.Box;\n\t\tpublic item:Laya.Box;\n\t\tpublic btnBomb:Laya.Button;\n\t\tpublic bomb:Laya.Label;\n\t\tpublic score:Laya.Label;\n\t\tpublic resultScore:Laya.Box;\n\t\tpublic curScore:Laya.Label;\n\t\tpublic maxScore:Laya.Label;\n\t\tpublic result:Laya.Box;\n\t\tpublic tips:Laya.Label;\n\t\tpublic btnContinue:Laya.Button;\n\t\tpublic btnRestart:Laya.Button;\n\t\tpublic btnBack:Laya.Button;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"scene/gameScene\");\r\n        }\r\n    }\r\n    REG(\"ui.scene.gameSceneUI\",gameSceneUI);\r\n    export class loginSceneUI extends Laya.Scene {\r\n\t\tpublic background:Laya.Sprite;\n\t\tpublic scaleGroup:Laya.Box;\n\t\tpublic menu:Laya.Box;\n\t\tpublic btnStart:Laya.Button;\n\t\tpublic btnRank:Laya.Button;\n\t\tpublic btnSetting:Laya.Button;\n\t\tpublic setting:Laya.Box;\n\t\tpublic btnMusic:Laya.Button;\n\t\tpublic btnSound:Laya.Button;\n\t\tpublic btnBack:Laya.Button;\n        constructor(){ super()}\r\n        createChildren():void {\r\n            super.createChildren();\r\n            this.loadScene(\"scene/loginScene\");\r\n        }\r\n    }\r\n    REG(\"ui.scene.loginSceneUI\",loginSceneUI);\r\n}\r","export default class Util {\r\n    // 点击按钮\r\n    static ClickButton(button: Laya.Button, caller: any, listener: Function) {\r\n        button.on(Laya.Event.CLICK, caller, function () {\r\n            // 按钮音效\r\n            Laya.SoundManager.playSound(\"sound/button.mp3\");\r\n\r\n            listener.bind(caller)();\r\n        });\r\n    }\r\n\r\n    // 生成随机数\r\n    static Random(num: number): number {\r\n        let today = new Date();\r\n        let seed = today.getTime();\r\n        return Math.ceil(this.rnd(seed) * num);\r\n    }\r\n\r\n    private static rnd(seed: number): number {\r\n        seed = (seed * 9301 + 49297) % 233280;\r\n        return seed / (233280.0);\r\n    }\r\n\r\n    // 大小改变更改适配\r\n    static resize(): void {\r\n        Laya.Scene.unDestroyedScenes.forEach((scene) => {\r\n            Util.adjustScene(scene);\r\n            Util.adjustUI(scene.scaleGroup);\r\n        });\r\n    }\r\n\r\n    // 场景适配\r\n    static adjustScene(caller: any): void {\r\n        if (!caller) {\r\n            return;\r\n        }\r\n\r\n        let scale = Laya.Browser.width / Laya.Browser.height;\r\n\r\n        switch (Laya.stage.scaleMode) {\r\n            case \"fixedwidth\":\r\n                caller.height = caller.width / scale;\r\n                break;\r\n            case \"fixedheight\":\r\n                caller.width = caller.height * scale;\r\n                break;\r\n        }\r\n    }\r\n\r\n    // ui适配\r\n    static adjustUI(b: Laya.Box): void {\r\n        if (!b) {\r\n            return;\r\n        }\r\n\r\n        // 全面屏\r\n        if (Laya.Browser.height / Laya.Browser.width > 2) {\r\n            console.log(\"全面屏...\");\r\n            b.top = 25;\r\n            b.bottom = 50;\r\n        }\r\n    }\r\n}","export default class Config {\r\n    static heroWidth: number = 99;          // 英雄宽度\r\n    static heroHeight: number = 124;        // 英雄高度\r\n    static bulletWidth: number = 9;         // 子弹宽度\r\n    static bulletHeight: number = 21;       // 子弹高度\r\n    static enemy1Width: number = 57;        // 敌人1宽度\r\n    static enemy1Height: number = 51;       // 敌人1高度\r\n    static enemy2Width: number = 69;        // 敌人2宽度\r\n    static enemy2Height: number = 95;       // 敌人2高度\r\n    static enemy3Width: number = 169;       // 敌人3宽度\r\n    static enemy3Height: number = 258;      // 敌人3高度\r\n    static ufoBombScore: number = 10000;    // ufo炸弹初始积分\r\n    static ufoBulletScore: number = 5000;   // ufo子弹初始积分\r\n    static buffRadius: number = 32;         // buff半径\r\n}","import Util from \"../../common/Util\";\r\nimport Config from \"../../common/Config\";\r\nimport GameControl from \"./GameControl\";\r\n\r\n// 敌人\r\nexport default class Enemy extends Laya.Script {\r\n    gameControl: GameControl;       // 游戏管理\r\n    level: number;                  // 等级\r\n    hp: number;                     // 血量\r\n    score: number;                  // 分数\r\n    death: boolean;                 // 死亡\r\n\r\n    private parent: Laya.Sprite;\r\n    private name: string;\r\n    private flySound: Laya.SoundChannel;    // 飞行音效\r\n    private ani: Laya.Animation;            // 动画\r\n    private rig: Laya.RigidBody;            // 刚体\r\n    private speed: number;                  // 移动速度\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.score = this.hp * 100;\r\n        this.death = false;\r\n        this.parent = this.owner as Laya.Sprite;\r\n        this.name = \"enemy\" + this.level;\r\n\r\n        this.randomSpeed();\r\n\r\n        this.randomPosition();\r\n\r\n        this.loadAni();\r\n\r\n        this.fly();\r\n    }\r\n\r\n    onDisable(): void {\r\n        // 关闭飞行音效\r\n        if (!this.death) {\r\n            this.stopFlySound();\r\n        }\r\n\r\n        // 回收资源\r\n        Laya.Pool.recover(this.name, this.parent);\r\n    }\r\n\r\n    onUpdate(): void {\r\n        this.controlSpeed();\r\n\r\n        // 超出屏幕,移除自己\r\n        if (this.parent.y >= this.gameControl.gameScene.height) {\r\n            this.parent.removeSelf();\r\n        }\r\n    }\r\n\r\n    // 碰撞\r\n    onTriggerEnter(other: any, self: any, contact: any): void {\r\n        // 死亡\r\n        if (this.death) {\r\n            return;\r\n        }\r\n\r\n        switch (other.label) {\r\n            case \"bullet\":\r\n                this.hit();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 随机移动速度\r\n    randomSpeed(): void {\r\n        this.rig = this.parent.getComponent(Laya.RigidBody);\r\n\r\n        switch (this.level) {\r\n            case 1:\r\n                this.speed = Util.Random(7) + 5;\r\n                break;\r\n            case 2:\r\n                this.speed = Util.Random(5) + 3;\r\n                break;\r\n            case 3:\r\n                this.speed = Util.Random(3) + 1;\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 控制移动速度\r\n    controlSpeed(): void {\r\n        // 暂停,自己死亡,英雄死亡,敌人缓动\r\n        if (this.gameControl.pause || this.death || this.gameControl.heroModel.death) {\r\n            this.rig.setVelocity({ x: 0, y: 0.1 });\r\n        } else {\r\n            this.rig.setVelocity({ x: 0, y: this.speed });\r\n        }\r\n    }\r\n\r\n    // 随机生成位置\r\n    randomPosition(): void {\r\n        let x: number = 0;\r\n        let y: number = 0;\r\n\r\n        switch (this.level) {\r\n            case 1:\r\n                x = Util.Random(this.gameControl.gameScene.width - Config.enemy1Width);\r\n                y = -Config.enemy1Height;\r\n                break;\r\n            case 2:\r\n                x = Util.Random(this.gameControl.gameScene.width - Config.enemy2Width);\r\n                y = -Config.enemy2Height;\r\n                break;\r\n            case 3:\r\n                x = Util.Random(this.gameControl.gameScene.width - Config.enemy3Width);\r\n                y = -Config.enemy3Height;\r\n                break;\r\n        }\r\n\r\n        this.parent.pos(x, y);\r\n    }\r\n\r\n    // 加载动画\r\n    loadAni(): void {\r\n        if (this.ani) {\r\n            return;\r\n        }\r\n\r\n        let url = \"animation/\" + this.name + \".ani\";\r\n        this.ani = new Laya.Animation();\r\n        this.parent.addChild(this.ani);\r\n\r\n        this.ani.loadAnimation(url);\r\n    }\r\n\r\n    // 关闭飞行音效\r\n    stopFlySound(): void {\r\n        if (!this.flySound) {\r\n            return;\r\n        }\r\n\r\n        if (this.level == 3) {\r\n            this.flySound.stop();\r\n        }\r\n    }\r\n\r\n    // 飞行\r\n    fly(): void {\r\n        this.ani.play(0, true, \"fly\");\r\n\r\n        if (this.level == 3) {\r\n            this.flySound = Laya.SoundManager.playSound(\"sound/enemy3_fly.mp3\", 0);\r\n        }\r\n    }\r\n\r\n    // 被攻击\r\n    hit(): void {\r\n        if (this.level !== 1) {\r\n            this.ani.play(0, false, \"hit\");\r\n\r\n            // 一定时间后,继续播放飞行动画\r\n            Laya.timer.once(120, this, function () {\r\n                if (this.death) {\r\n                    return;\r\n                }\r\n\r\n                this.ani.play(0, true, \"fly\");\r\n            });\r\n        }\r\n\r\n        this.hp -= this.gameControl.heroModel.getAtk();\r\n        if (this.hp <= 0) {\r\n            this.down();\r\n        }\r\n    }\r\n\r\n    // 坠机\r\n    down(): void {\r\n        this.death = true;\r\n        this.gameControl.totalScore += this.score;\r\n        this.gameControl.gameScene.showScore();\r\n\r\n        this.controlSpeed();\r\n\r\n        this.stopFlySound();\r\n\r\n        let url = \"sound/enemy\" + this.level + \"_down.mp3\";\r\n        Laya.SoundManager.playSound(url);\r\n\r\n        this.ani.play(0, false, \"down\");\r\n\r\n        // 播放完动画,移除自己\r\n        switch (this.level) {\r\n            case 3:\r\n                Laya.timer.once(420, this, function () {\r\n                    this.parent.removeSelf();\r\n                });\r\n                break;\r\n            default:\r\n                Laya.timer.once(300, this, function () {\r\n                    this.parent.removeSelf();\r\n                });\r\n                break;\r\n        }\r\n    }\r\n}","import Util from \"../common/Util\";\r\n\r\n// 英雄信息\r\nexport default class HeroModel {\r\n    god: boolean;               // 是否无敌\r\n    death: boolean;             // 死亡\r\n    deathCount: number;         // 死亡次数\r\n    deathPosX: number;          // 死亡位置X\r\n    deathPosY: number;          // 死亡位置Y\r\n    bulletLevel: number;        // 子弹等级\r\n    bulletCountDefault: number; // 子弹默认数量\r\n    bulletCount: number;        // 子弹数量\r\n    bulletEndTime: number;      // 子弹结束时间\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    init(): void {\r\n        this.god = false;\r\n        this.death = true;\r\n        this.deathCount = 0;\r\n        this.bulletLevel = 1;\r\n        this.bulletCountDefault = 1;\r\n        this.bulletCount = 1;\r\n    }\r\n\r\n    // 获取攻击力\r\n    getAtk(): number {\r\n        return this.bulletLevel;\r\n    }\r\n\r\n    // 随机子弹数量\r\n    randomBulletCount(): number {\r\n        let count = Util.Random(9) + 2;\r\n        if (count % 2 == 0) {\r\n            count--;\r\n        }\r\n        return count;\r\n    }\r\n\r\n    private static instance: HeroModel;\r\n    public static get Ins(): HeroModel {\r\n        if (!HeroModel.instance) {\r\n            HeroModel.instance = new HeroModel();\r\n        }\r\n        return HeroModel.instance;\r\n    }\r\n}","import Config from \"../../common/Config\";\r\n\r\n// 子弹\r\nexport default class Bullet extends Laya.Script {\r\n    level: number;\r\n    x: number;              // x轴速度,方便子弹倾斜\r\n\r\n    private parent: Laya.Sprite;\r\n    private rig: Laya.RigidBody;\r\n    private distance: number;       // 一定距离之后,子弹不再倾斜\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.parent = this.owner as Laya.Sprite;\r\n        this.distance = 50;\r\n        let url = \"image/bullet\" + this.level + \".png\";\r\n        this.parent.graphics.loadImage(url, 0, 0, Config.bulletWidth, Config.bulletHeight);\r\n\r\n        this.rig = this.parent.getComponent(Laya.RigidBody);\r\n        this.rig.setVelocity({ x: this.x, y: -10 });\r\n    }\r\n\r\n    onDisable(): void {\r\n        Laya.Pool.recover(\"bullet\", this.parent);\r\n    }\r\n\r\n    onUpdate(): void {\r\n        // 子弹离开屏幕,移除\r\n        if (this.parent.y <= 0) {\r\n            this.parent.removeSelf();\r\n            return;\r\n        }\r\n\r\n        if (this.distance > 0) {\r\n            this.distance -= 10;\r\n            if (this.distance == 0) {\r\n                this.rig.setVelocity({ x: 0, y: -10 });\r\n            }\r\n        }\r\n    }\r\n\r\n    onTriggerEnter(other: any, self: any, contact: any): void {\r\n        this.parent.removeSelf();\r\n    }\r\n}","import Config from \"../../common/Config\";\r\nimport GameControl from \"./GameControl\";\r\n\r\n// 英雄\r\nexport default class Hero extends Laya.Script {\r\n    gameControl: GameControl;\r\n\r\n    private parent: Laya.Sprite;\r\n    private ani: Laya.Animation;\r\n    private alphaLevel: number;\r\n    private duration: number;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.parent = this.owner as Laya.Sprite;\r\n        this.alphaLevel = 0;\r\n        this.duration = 250;\r\n\r\n        this.loadAni();\r\n\r\n        this.fly();\r\n\r\n        if (this.gameControl && this.gameControl.heroModel.god) {\r\n            this.god();\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n        if (!this.gameControl) {\r\n            return;\r\n        }\r\n\r\n        Laya.Pool.recover(\"hero\", this.parent);\r\n    }\r\n\r\n    onTriggerEnter(other: any, self: any, contact: any): void {\r\n        if (this.gameControl.heroModel.death) {\r\n            return;\r\n        }\r\n\r\n        switch (other.label) {\r\n            case \"enemy\":\r\n                this.down();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 加载动画\r\n    loadAni(): void {\r\n        if (this.ani) {\r\n            return;\r\n        }\r\n\r\n        let url = \"animation/hero.ani\";\r\n        this.ani = new Laya.Animation();\r\n        this.parent.addChild(this.ani);\r\n\r\n        this.ani.loadAnimation(url);\r\n        this.ani.pivot(Config.heroWidth / 2, Config.heroHeight / 2);\r\n    }\r\n\r\n    // 飞行\r\n    fly(): void {\r\n        this.ani.play(0, true, \"fly\");\r\n    }\r\n\r\n    // 无敌\r\n    god(): void {\r\n        this.godAni();\r\n\r\n        let delay = 6000;\r\n\r\n        // 创建buff效果\r\n        this.gameControl.createBuff(\"god\", delay);\r\n    }\r\n\r\n    // 无敌动画\r\n    godAni(): void {\r\n        Laya.Tween.clearAll(this.parent);\r\n\r\n        if (!this.gameControl.heroModel.god) {\r\n            this.parent.alpha = 1;\r\n            return;\r\n        }\r\n\r\n        let alpha = 0;\r\n        switch (this.alphaLevel) {\r\n            case 0:\r\n                alpha = 1;\r\n                break;\r\n            case 1:\r\n                alpha = 0.2;\r\n                break;\r\n            default:\r\n                alpha = 1;\r\n                this.alphaLevel = 0;\r\n                break;\r\n        }\r\n\r\n        this.alphaLevel++;\r\n        Laya.Tween.to(this.parent, { alpha: alpha }, this.duration, Laya.Ease.linearNone, Laya.Handler.create(this, this.godAni));\r\n    }\r\n\r\n    // 坠机\r\n    down(): void {\r\n        // 当前处于无敌状态\r\n        if (this.gameControl.heroModel.god) {\r\n            return;\r\n        }\r\n\r\n        // 清除buff\r\n        this.gameControl.cleanBuff();\r\n\r\n        this.gameControl.heroModel.death = true;\r\n        this.gameControl.heroModel.deathCount++;\r\n        this.gameControl.heroModel.deathPosX = this.parent.x;\r\n        this.gameControl.heroModel.deathPosY = this.parent.y;\r\n\r\n        let url = \"sound/hero_down.mp3\";\r\n        Laya.SoundManager.playSound(url);\r\n\r\n        this.ani.play(0, false, \"down\");\r\n\r\n        // 播放完动画,移除自己\r\n        Laya.timer.once(300, this, function () {\r\n            this.parent.removeSelf();\r\n\r\n            // 界面半透明\r\n            this.gameControl.gameScene.gameBox.alpha = 0.5;\r\n\r\n            // 弹出结果信息\r\n            this.gameControl.gameScene.result.visible = true;\r\n            this.gameControl.gameScene.resultScore.visible = true;\r\n\r\n            this.gameControl.gameScene.showCurScore();\r\n            this.gameControl.gameScene.showMaxScore();\r\n\r\n            // 如果达到复活上限,无法选择复活\r\n            if (this.gameControl.heroModel.deathCount > 1) {\r\n                this.gameControl.gameScene.hideBtnContinue();\r\n            }\r\n        });\r\n    }\r\n}","import Util from \"../../common/Util\";\r\nimport GameControl from \"./GameControl\";\r\nimport Config from \"../../common/Config\";\r\n\r\nexport default class Ufo extends Laya.Script {\r\n    gameControl: GameControl;\r\n    name: string;\r\n    level: number;\r\n\r\n    private parent: Laya.Sprite;\r\n    private width: number;\r\n    private rig: Laya.RigidBody;\r\n    private speed: number;\r\n    private swingLevel: number;\r\n    private duration: number;\r\n    private stop: boolean;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.parent = this.owner as Laya.Sprite;\r\n        this.width = this.gameControl.gameScene.width;\r\n        this.swingLevel = 0;\r\n        this.duration = 500;\r\n        this.stop = false;\r\n\r\n        let url = \"image/\" + this.name + \".png\";\r\n        if (this.level) {\r\n            url = \"image/\" + this.name + this.level + \".png\";\r\n        }\r\n\r\n        this.parent.loadImage(url);\r\n\r\n        this.swing();\r\n\r\n        this.randomPosition();\r\n    }\r\n\r\n    onDisable(): void {\r\n        // 停止缓动\r\n        this.stop = true;\r\n\r\n        Laya.Pool.recover(this.name, this.parent);\r\n    }\r\n\r\n    onUpdate(): void {\r\n        this.controlSpeed();\r\n    }\r\n\r\n    onTriggerEnter(other: any, self: any, contact: any): void {\r\n        if (other.label == \"hero\") {\r\n            switch (this.name) {\r\n                case \"ufo_bomb\":\r\n                    // 增加积分\r\n                    this.gameControl.totalScore += Config.ufoBombScore;\r\n\r\n                    Laya.SoundManager.playSound(\"sound/get_bomb.mp3\");\r\n\r\n                    this.parent.removeSelf();\r\n\r\n                    // 炸弹最多积攒三个\r\n                    if (this.gameControl.totalBomb < 3) {\r\n                        this.gameControl.totalBomb++;\r\n                        this.gameControl.gameScene.showBomb();\r\n                    }\r\n                    break;\r\n                case \"ufo_bullet\":\r\n                    // 增加积分\r\n                    this.gameControl.totalScore += Config.ufoBulletScore * this.level;\r\n\r\n                    Laya.SoundManager.playSound(\"sound/get_bullet.mp3\");\r\n\r\n                    this.parent.removeSelf();\r\n\r\n                    // 随机子弹数量\r\n                    let count = this.gameControl.heroModel.randomBulletCount();\r\n\r\n                    // 使用等级最高的子弹\r\n                    if (this.level > this.gameControl.heroModel.bulletLevel) {\r\n                        // 子弹等级不同,使用新数值\r\n                        this.gameControl.heroModel.bulletCount = count;\r\n                        this.gameControl.heroModel.bulletLevel = this.level;\r\n                    } else {\r\n                        // 子弹等级相同,使用数量最多的子弹\r\n                        if (count > this.gameControl.heroModel.bulletCount) {\r\n                            this.gameControl.heroModel.bulletCount = count;\r\n                        }\r\n                    }\r\n\r\n                    // 控制子弹时间\r\n                    let delay = (Util.Random(6) + 9) * 1000;\r\n                    this.gameControl.heroModel.bulletEndTime = Date.now() + delay;\r\n\r\n                    // 创建buff效果\r\n                    this.gameControl.createBuff(\"bullet\", delay);\r\n                    break;\r\n            }\r\n\r\n            this.gameControl.gameScene.showScore();\r\n        }\r\n    }\r\n\r\n    // 随机位置\r\n    randomPosition(): void {\r\n        let x = Util.Random(this.width);\r\n        this.parent.pos(x, -100);\r\n\r\n        this.speed = 2;\r\n        this.rig = this.parent.getComponent(Laya.RigidBody);\r\n        this.rig.setVelocity({ x: 0, y: this.speed });\r\n    }\r\n\r\n    // 摆动,使用代码实现缓动效果,因为碰撞体位置会跟随缓动动画改变\r\n    swing(): void {\r\n        Laya.Tween.clearAll(this.parent);\r\n\r\n        if (this.stop) {\r\n            return;\r\n        }\r\n\r\n        let rotation = 0;\r\n        switch (this.swingLevel) {\r\n            case 0:\r\n                rotation = 30;\r\n                break;\r\n            case 1:\r\n                rotation = 0;\r\n                break;\r\n            case 2:\r\n                rotation = -30;\r\n                break;\r\n            case 3:\r\n                rotation = 0;\r\n                break;\r\n            default:\r\n                rotation = 30;\r\n                this.swingLevel = 0;\r\n                break;\r\n        }\r\n\r\n        this.swingLevel++;\r\n        Laya.Tween.to(this.parent, { rotation: rotation }, this.duration, Laya.Ease.linearNone, Laya.Handler.create(this, this.swing));\r\n    }\r\n\r\n    // 控制移动速度\r\n    controlSpeed(): void {\r\n        // 暂停\r\n        if (this.gameControl.pause) {\r\n            this.rig.setVelocity({ x: 0, y: 0.1 });\r\n        } else {\r\n            this.rig.setVelocity({ x: 0, y: this.speed });\r\n        }\r\n    }\r\n}","export default class EventManager {\r\n    private eventDispatcher: Laya.EventDispatcher;\r\n\r\n    constructor() {\r\n        this.eventDispatcher = new Laya.EventDispatcher();\r\n    }\r\n\r\n    // 添加监听事件\r\n    addListener(type: string, caller: any, listener: Function, args?: any[]): void {\r\n        this.eventDispatcher.on(type, caller, listener, args);\r\n    }\r\n\r\n    // 派发事件\r\n    dispatch(type: string, data?: any): void {\r\n        this.eventDispatcher.event(type, data);\r\n    }\r\n\r\n    private static instance: EventManager;\r\n    public static get Ins(): EventManager {\r\n        if (!EventManager.instance) {\r\n            EventManager.instance = new EventManager();\r\n        }\r\n        return EventManager.instance;\r\n    }\r\n}","export default class EventType {\r\n    static HeroDeath: string = \"hero_death\";            // 英雄死亡事件\r\n    static BuffEnd: string = \"buff_end\";                // buff结束事件\r\n    static BuffBulletEnd: string = \"buff_bullet_end\";   // buff弹药效果结束事件\r\n    static BuffGodEnd: string = \"buff_god_end\";         // buff无敌效果结束事件\r\n}","import GameControl from \"./GameControl\";\r\nimport Config from \"../../common/Config\";\r\nimport EventManager from \"../../common/EventManager\";\r\nimport EventType from \"../../common/EventType\";\r\n\r\nexport default class Buff extends Laya.Script {\r\n    gameControl: GameControl;\r\n    name: string;                   // buff名称\r\n    cd: number;                     // 总cd时长\r\n    cur: number;                    // 经过的cd时长\r\n\r\n    private parent: Laya.Sprite;\r\n    private pie: Laya.Sprite;       // 扇形\r\n    private buff: Laya.Image;       // buff\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    addEvent(): void {\r\n        EventManager.Ins.addListener(EventType.BuffEnd, this, this.setPosition);\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.cur = 0;\r\n\r\n        this.parent = this.owner as Laya.Sprite;\r\n        this.pie = this.parent.getChildByName(\"pie\") as Laya.Sprite;\r\n        this.buff = this.parent.getChildByName(\"buff\") as Laya.Image;\r\n\r\n        this.gameControl.totalBuff++;\r\n\r\n        // 加载buff图片\r\n        let url = \"image/buff_\" + this.name + \".png\";\r\n        this.buff.loadImage(url);\r\n\r\n        // 设置buff位置\r\n        this.setPosition();\r\n\r\n        this.addEvent();\r\n\r\n        Laya.timer.loop(100, this, this.onTimer);\r\n    }\r\n\r\n    onDisable(): void {\r\n        switch (this.name) {\r\n            case \"bullet\":\r\n                EventManager.Ins.dispatch(EventType.BuffBulletEnd);\r\n                break;\r\n            case \"god\":\r\n                EventManager.Ins.dispatch(EventType.BuffGodEnd);\r\n                break;\r\n        }\r\n\r\n        this.gameControl.totalBuff--;\r\n        Laya.timer.clearAll(this);\r\n        EventManager.Ins.dispatch(EventType.BuffEnd);\r\n        Laya.Pool.recover(\"buff\", this.parent);\r\n    }\r\n\r\n    onTimer(): void {\r\n        // 时间到了,移除自己\r\n        if (this.cur > this.cd) {\r\n            this.parent.removeSelf();\r\n            return;\r\n        }\r\n\r\n        // 画扇形\r\n        let endAngle = 270 - this.cur / this.cd * 360;\r\n        this.pie.graphics.clear();\r\n        this.pie.graphics.drawPie(0, 0, Config.buffRadius + 4, -90, endAngle, \"#874d4d\");\r\n\r\n        // 暂停,经过的cd时长缓慢增加\r\n        if (this.gameControl.pause) {\r\n            this.cur += 1;\r\n        } else {\r\n            this.cur += 100;\r\n        }\r\n    }\r\n\r\n    // 设置buff位置\r\n    setPosition(): void {\r\n        let x = Config.buffRadius;\r\n        let y = Config.buffRadius + (this.gameControl.totalBuff - 1) * 80;\r\n        this.parent.pos(x, y);\r\n    }\r\n}","import Enemy from \"./Enemy\";\r\nimport Config from \"../../common/Config\";\r\nimport HeroModel from \"../../model/Hero\";\r\nimport Util from \"../../common/Util\";\r\nimport Bullet from \"./Bullet\";\r\nimport Hero from \"./Hero\";\r\nimport GameScene from \"./GameScene\";\r\nimport Ufo from \"./Ufo\";\r\nimport Buff from \"./Buff\";\r\nimport EventManager from \"../../common/EventManager\";\r\nimport EventType from \"../../common/EventType\";\r\n\r\n// 游戏管理\r\nexport default class GameControl extends Laya.Script {\r\n    /** @prop {name: pHero, tips:\"英雄预制体\", type:Prefab} */\r\n    pHero: Laya.Prefab;\r\n    /** @prop {name: pBullet, tips:\"子弹预制体\", type:Prefab} */\r\n    pBullet: Laya.Prefab;\r\n    /** @prop {name: pEnemy1, tips:\"敌人1预制体\", type:Prefab} */\r\n    pEnemy1: Laya.Prefab;\r\n    /** @prop {name: pEnemy2, tips:\"敌人2预制体\", type:Prefab} */\r\n    pEnemy2: Laya.Prefab;\r\n    /** @prop {name: pEnemy3, tips:\"敌人3预制体\", type:Prefab} */\r\n    pEnemy3: Laya.Prefab;\r\n    /** @prop {name: pUfoBomb, tips:\"ufo炸弹预制体\", type:Prefab} */\r\n    pUfoBomb: Laya.Prefab;\r\n    /** @prop {name: pUfoBullet, tips:\"ufo子弹预制体\", type:Prefab} */\r\n    pUfoBullet: Laya.Prefab;\r\n    /** @prop {name: pBuff, tips:\"buff预制体\", type:Prefab} */\r\n    pBuff: Laya.Prefab;\r\n\r\n    gameScene: GameScene;           // 游戏场景\r\n    heroModel: HeroModel;           // 英雄数据\r\n    pause: boolean;                 // 暂停\r\n    totalScore: number;             // 总分数\r\n    totalBomb: number;              // 总炸弹数\r\n    totalBuff: number;              // 总buff数量\r\n\r\n    private parent: Laya.Sprite;            // 父节点\r\n    private hero: Laya.Sprite;              // 英雄\r\n    private gameBox: Laya.Sprite;           // 游戏盒子\r\n    private createEnemyInterval: number;    // 创建敌人时间间隔\r\n    private startTime: number;              // 开始时间\r\n    private isShot: boolean;                // 是否射击\r\n    private cd: number;                     // 射击冷却值\r\n    private lastShotTime: number;           // 上次射击时间\r\n    private bombStartTime: number;          // ufo炸弹生成时间\r\n    private bulletStartTime: number;        // ufo子弹生成时间\r\n    private touchIdList: number[];          // 触摸点列表\r\n    private lastX: number;                  // 最后触摸点X\r\n    private lastY: number;                  // 最后触摸点Y\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    addEvent(): void {\r\n        EventManager.Ins.addListener(EventType.BuffBulletEnd, this, this.buffBulletEnd);\r\n        EventManager.Ins.addListener(EventType.BuffGodEnd, this, this.buffGodEnd);\r\n    }\r\n\r\n    // 初始化\r\n    init(): void {\r\n        this.parent = this.owner as Laya.Sprite;\r\n        this.gameBox = this.gameScene.gameBox;\r\n\r\n        this.heroModel = HeroModel.Ins;\r\n        this.pause = true;\r\n        this.totalScore = 0;\r\n        this.totalBomb = 0;\r\n        this.createEnemyInterval = 1000;\r\n        this.startTime = 0;\r\n        this.isShot = false;\r\n        this.cd = 100;\r\n        this.lastShotTime = 0;\r\n        this.bombStartTime = 0;\r\n        this.bulletStartTime = 0;\r\n        this.touchIdList = new Array();\r\n        this.totalBuff = 0;\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.addEvent();\r\n    }\r\n\r\n    onDisable(): void {\r\n\r\n    }\r\n\r\n    onUpdate(): void {\r\n        // 英雄死亡\r\n        if (this.heroModel.death || this.pause) {\r\n            return;\r\n        }\r\n\r\n        let now = Date.now();\r\n        if (this.isShot && now - this.lastShotTime >= this.cd) {\r\n            this.lastShotTime = now;\r\n            this.createBullet();\r\n        }\r\n\r\n        // 生成敌人\r\n        if (now - this.startTime >= this.createEnemyInterval) {\r\n            this.startTime = now;\r\n\r\n            this.createEnemy();\r\n        }\r\n\r\n        // 创建ufo炸弹\r\n        if (now - this.bombStartTime >= 3000) {\r\n            this.bombStartTime = now;\r\n\r\n            this.createUfoBomb();\r\n        }\r\n\r\n        // 创建ufo炸弹\r\n        if (now - this.bulletStartTime >= 5000) {\r\n            this.bulletStartTime = now;\r\n\r\n            this.createUfoBullet();\r\n        }\r\n    }\r\n\r\n    onMouseDown(e: Laya.Event): void {\r\n        // 英雄死亡\r\n        if (this.heroModel.death) {\r\n            return;\r\n        }\r\n\r\n        let touches = e.touches;\r\n        if (!touches) {\r\n            return;\r\n        }\r\n\r\n        // 添加触摸点id\r\n        this.touchIdList.push(e.touchId);\r\n\r\n        // 鼠标单次按下,监听鼠标移动事件\r\n        if (touches.length == 1) {\r\n            let touch = e.touches[0];\r\n            this.lastX = touch.stageX;\r\n            this.lastY = touch.stageY;\r\n\r\n            this.parent.on(Laya.Event.MOUSE_MOVE, this, this.onHeroMove);\r\n\r\n            this.pause = false;\r\n            this.isShot = true;\r\n            this.lastShotTime = Date.now();\r\n            return;\r\n        }\r\n\r\n        // 鼠标多次按下,不重复监听移动事件\r\n    }\r\n\r\n    onMouseUp(e: Laya.Event): void {\r\n        let touches = e.touches;\r\n        if (!touches) {\r\n            return;\r\n        }\r\n\r\n        // 删除抬起触摸点\r\n        for (let i = 0; i < this.touchIdList.length; i++) {\r\n            if (e.touchId == this.touchIdList[i]) {\r\n                this.touchIdList.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (touches.length == 0) {\r\n            // 无触摸点,关闭移动事件\r\n            this.parent.off(Laya.Event.MOUSE_MOVE, this, this.onHeroMove);\r\n\r\n            this.pause = true;\r\n            this.isShot = false;\r\n            return;\r\n        }\r\n\r\n        // 英雄移动到当前触摸点所在位置,更新鼠标相对触摸点的位置\r\n        for (let i = 0; i < e.touches.length; i++) {\r\n            let touch = e.touches[i];\r\n            if (touch.identifier == this.touchIdList[0]) {\r\n                this.lastX = touch.stageX;\r\n                this.lastY = touch.stageY;\r\n                Laya.Tween.to(this.hero, { x: this.lastX, y: this.lastY }, 100);\r\n            }\r\n        }\r\n    }\r\n\r\n    // 英雄移动\r\n    onHeroMove(e: Laya.Event): void {\r\n        let touches = e.touches;\r\n        if (!touches) {\r\n            return;\r\n        }\r\n\r\n        // 根据最后触摸点id移动\r\n        let touchId = this.touchIdList[0];\r\n        if (e.touchId !== touchId) {\r\n            return;\r\n        }\r\n\r\n        // 选择触摸点作为相对位置移动\r\n        for (let i = 0; i < e.touches.length; i++) {\r\n            let touch = e.touches[i];\r\n            if (touch.identifier == touchId) {\r\n                this.hero.x += touch.stageX - this.lastX;\r\n                if (this.hero.x < 0) {\r\n                    this.hero.x = 0;\r\n                }\r\n                if (this.hero.x > this.gameScene.width) {\r\n                    this.hero.x = this.gameScene.width;\r\n                }\r\n\r\n                this.hero.y += touch.stageY - this.lastY;\r\n                if (this.hero.y < 0) {\r\n                    this.hero.y = 0;\r\n                }\r\n\r\n                // 全面屏边界值检测\r\n                let height = this.gameScene.height;\r\n                if (Laya.Browser.clientHeight / Laya.Browser.clientWidth > 2) {\r\n                    height = this.gameScene.height - 20;\r\n                }\r\n\r\n                if (this.hero.y > height) {\r\n                    this.hero.y = height;\r\n                }\r\n                this.lastX = touch.stageX;\r\n                this.lastY = touch.stageY;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 创建英雄\r\n    createHero(): void {\r\n        this.heroModel.death = false;\r\n\r\n        this.hero = Laya.Pool.getItemByCreateFun(\"hero\", this.pHero.create, this.pHero);\r\n        let comp = this.hero.getComponent(Hero);\r\n        comp.gameControl = this;\r\n\r\n        // 未死亡过,从出生点复活\r\n        if (this.heroModel.deathCount == 0) {\r\n            this.hero.pos(this.parent.width / 2, this.parent.height - 200);\r\n            this.gameBox.addChild(this.hero);\r\n            return;\r\n        }\r\n\r\n        // 死亡过,进入无敌模式\r\n        this.heroModel.god = true;\r\n        this.heroModel.bulletLevel = 1;\r\n        this.heroModel.bulletEndTime = 0;\r\n\r\n        // 随机子弹数量\r\n        let count = this.heroModel.randomBulletCount();\r\n        if (count > this.heroModel.bulletCountDefault) {\r\n            this.heroModel.bulletCountDefault = count;\r\n        }\r\n        this.heroModel.bulletCount = this.heroModel.bulletCountDefault;\r\n\r\n        // 死亡点复活\r\n        this.hero.pos(this.heroModel.deathPosX, this.heroModel.deathPosY);\r\n        this.gameBox.addChild(this.hero);\r\n    }\r\n\r\n    // 创建子弹\r\n    createBullet(): void {\r\n        for (let i = 0; i < this.heroModel.bulletCount; i++) {\r\n            let bullet: Laya.Sprite = Laya.Pool.getItemByCreateFun(\"bullet\", this.pBullet.create, this.pBullet);\r\n\r\n            let comp = bullet.getComponent(Bullet);\r\n            comp.level = this.heroModel.bulletLevel;\r\n\r\n            // 偶数,设置向左倾斜发射子弹;奇数,设置向右倾斜发射子弹\r\n            if (i % 2 == 0) {\r\n                comp.x = -i * 2;\r\n            } else {\r\n                comp.x = (i + 1) * 2;\r\n            }\r\n\r\n            this.gameBox.addChild(bullet);\r\n\r\n            // 让子弹从飞机中心点位置射出\r\n            let x = this.hero.x - Config.bulletWidth / 2;\r\n            let y = this.hero.y - Config.heroHeight / 2 - Config.bulletHeight;\r\n            bullet.pos(x, y);\r\n        }\r\n\r\n        // 子弹音效\r\n        Laya.SoundManager.playSound(\"sound/bullet.mp3\");\r\n    }\r\n\r\n    // 创建敌人\r\n    createEnemy(): void {\r\n        // 随机等级\r\n        let level = Util.Random(3);\r\n        let hp = Util.Random(level * 5);;\r\n        let name = \"enemy\" + level;\r\n        let enemy: Laya.Sprite;\r\n\r\n        switch (level) {\r\n            case 1:\r\n                enemy = Laya.Pool.getItemByCreateFun(name, this.pEnemy1.create, this.pEnemy1);\r\n                break;\r\n            case 2:\r\n                enemy = Laya.Pool.getItemByCreateFun(name, this.pEnemy2.create, this.pEnemy2);\r\n                hp += 3;\r\n                break;\r\n            case 3:\r\n                enemy = Laya.Pool.getItemByCreateFun(name, this.pEnemy3.create, this.pEnemy3);\r\n                hp += 5;\r\n                break;\r\n        }\r\n\r\n        let comp = enemy.getComponent(Enemy);\r\n        comp.gameControl = this;\r\n        comp.level = level;\r\n        comp.hp = hp;\r\n        comp.hp = comp.level * 5;\r\n        this.gameBox.addChild(enemy);\r\n    }\r\n\r\n    // 创建ufo炸弹\r\n    createUfoBomb(): void {\r\n        let name = \"ufo_bomb\";\r\n        let bomb = Laya.Pool.getItemByCreateFun(name, this.pUfoBomb.create, this.pUfoBomb);\r\n\r\n        let comp = bomb.getComponent(Ufo);\r\n        comp.gameControl = this;\r\n        comp.name = name;\r\n        this.gameBox.addChild(bomb);\r\n    }\r\n\r\n    // 创建ufo子弹\r\n    createUfoBullet(): void {\r\n        let name = \"ufo_bullet\";\r\n        let bullet = Laya.Pool.getItemByCreateFun(name, this.pUfoBullet.create, this.pUfoBullet);\r\n\r\n        let comp = bullet.getComponent(Ufo);\r\n        comp.gameControl = this;\r\n        comp.name = name;\r\n        comp.level = Util.Random(2);\r\n        this.gameBox.addChild(bullet);\r\n    }\r\n\r\n    // 创建buff\r\n    createBuff(name: string, cd: number): void {\r\n        let buff = this.gameScene.buff.getChildByName(name);\r\n        if (buff) {\r\n            // buff已存在,刷新cd\r\n            let comp = buff.getComponent(Buff);\r\n            comp.cd = cd;\r\n            comp.cur = 0;\r\n            return;\r\n        }\r\n\r\n        // buff不存在,创建buff\r\n        buff = Laya.Pool.getItemByCreateFun(\"buff\", this.pBuff.create, this.pBuff);\r\n        buff.name = name;\r\n\r\n        let comp = buff.getComponent(Buff);\r\n        comp.gameControl = this;\r\n        comp.name = name;\r\n        comp.cd = cd;\r\n        this.gameScene.buff.addChild(buff);\r\n    }\r\n\r\n    // 清空buff\r\n    cleanBuff(): void {\r\n        this.gameScene.buff.removeChildren(0, this.gameScene.buff.numChildren);\r\n    }\r\n\r\n    // 清空游戏盒子\r\n    cleanGameBox(): void {\r\n        this.gameBox.alpha = 1;\r\n        this.gameBox.removeChildren(0, this.gameBox.numChildren);\r\n    }\r\n\r\n    // 清空所有敌人\r\n    cleanEnemy(): void {\r\n        let count = this.gameBox.numChildren;\r\n        for (let i = 0; i < count; i++) {\r\n            let child = this.gameBox.getChildAt(i);\r\n            if (child.name == \"enemy\") {\r\n                let comp = child.getComponent(Enemy);\r\n                comp.down();\r\n            }\r\n        }\r\n    }\r\n\r\n    // 使用炸弹\r\n    onUseBomb(): void {\r\n        if (this.totalBomb == 0) {\r\n            return;\r\n        }\r\n\r\n        Laya.SoundManager.playSound(\"sound/use_bomb.mp3\");\r\n\r\n        this.totalBomb--;\r\n        this.gameScene.showBomb();\r\n\r\n        this.cleanEnemy();\r\n    }\r\n\r\n    // 弹药buff结束\r\n    buffBulletEnd(): void {\r\n        // 恢复初始子弹等级\r\n        this.heroModel.bulletLevel = 1;\r\n        this.heroModel.bulletCount = this.heroModel.bulletCountDefault;\r\n    }\r\n\r\n    // 无敌效果结束\r\n    buffGodEnd(): void {\r\n        this.heroModel.god = false;\r\n    }\r\n}","import GameControl from \"./GameControl\";\r\n\r\n// 背景\r\nexport default class Background extends Laya.Script {\r\n    gameControl: GameControl;\r\n    width: number;\r\n    height: number;\r\n\r\n    private parent: Laya.Sprite;\r\n    private speed: number;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.parent = this.owner as Laya.Sprite;\r\n        this.speed = 5;\r\n\r\n        for (let i = 0; i < 2; i++) {\r\n            this.createBg(i);\r\n        }\r\n    }\r\n\r\n    onDisable(): void {\r\n\r\n    }\r\n\r\n    onUpdate(): void {\r\n        this.run();\r\n    }\r\n\r\n    // 创建背景图\r\n    createBg(index: number) {\r\n        let bg = new Laya.Image();\r\n        bg.loadImage(\"image/background.png\");\r\n\r\n        bg.width = this.width;\r\n        bg.height = this.height;\r\n        bg.pos(0, -this.height * index);\r\n        this.parent.addChild(bg);\r\n    }\r\n\r\n    run(): void {\r\n        if (this.parent.numChildren != 2) {\r\n            return\r\n        }\r\n\r\n        if (this.gameControl && this.gameControl.pause) {\r\n            this.speed = 0.1;\r\n        } else {\r\n            this.speed = 5;\r\n        }\r\n\r\n        this.parent.y += this.speed;\r\n        let move = Math.abs(this.parent.y);\r\n\r\n        // 第一张图显示完,父节点移动到第二张图相对场景所在位置\r\n        if (move >= this.height) {\r\n            this.parent.y -= this.height;\r\n        }\r\n    }\r\n}","export default class Adjust {\r\n    // 场景适配\r\n    static adjustScene(caller: any): void {\r\n        if (!caller) {\r\n            return;\r\n        }\r\n\r\n        let scale = Laya.Browser.clientWidth / Laya.Browser.clientHeight;\r\n\r\n        switch (Laya.stage.scaleMode) {\r\n            case \"fixedwidth\":\r\n                caller.height = caller.width / scale;\r\n                break;\r\n            case \"fixedheight\":\r\n                caller.width = caller.height * scale;\r\n                break;\r\n        }\r\n\r\n        Adjust.adjustUI(caller.scaleGroup);\r\n    }\r\n\r\n    // ui适配\r\n    static adjustUI(b: Laya.Box): void {\r\n        if (!b) {\r\n            return;\r\n        }\r\n\r\n        // 全面屏\r\n        if (Laya.Browser.clientHeight / Laya.Browser.clientWidth > 2) {\r\n            b.top = 25;\r\n            b.bottom = 50;\r\n        }\r\n    }\r\n}","import { ui } from \"../../ui/layaMaxUI\";\r\nimport Util from \"../../common/Util\";\r\nimport GameControl from \"./GameControl\";\r\nimport Background from \"./Background\";\r\nimport Adjust from \"../Adjust\";\r\n\r\nexport default class GameScene extends ui.scene.gameSceneUI {\r\n    static Ins: GameScene;\r\n    private gameControl: GameControl;\r\n    private music: Laya.SoundChannel;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n        Adjust.adjustScene(this);\r\n    }\r\n\r\n    onEnable(): void {\r\n        GameScene.Ins = this;\r\n\r\n        this.gameControl = this.getComponent(GameControl);\r\n        this.gameControl.gameScene = this;\r\n\r\n        this.init();\r\n\r\n        this.onBackground();\r\n\r\n        this.onContinue();\r\n\r\n        this.onRestart();\r\n\r\n        this.onBack();\r\n\r\n        this.onUseBomb();\r\n    }\r\n\r\n    onDisable(): void {\r\n\r\n    }\r\n\r\n    // 初始化\r\n    init(): void {\r\n        this.gameControl.init();\r\n\r\n        this.showBtnContinue();\r\n\r\n        this.gameControl.heroModel.init();\r\n\r\n        this.gameControl.cleanGameBox();\r\n\r\n        this.gameControl.createHero();\r\n\r\n        this.showScore();\r\n        this.showBomb();\r\n\r\n        this.result.visible = false;\r\n        this.resultScore.visible = false;\r\n    }\r\n\r\n    // 背景\r\n    onBackground(): void {\r\n        // 播放背景音乐\r\n        this.music = Laya.SoundManager.playMusic(\"sound/game_music.mp3\", 0);\r\n\r\n        let comp = this.background.getComponent(Background);\r\n        comp.gameControl = this.gameControl;\r\n        comp.width = this.width;\r\n        comp.height = this.height;\r\n    }\r\n\r\n    // 复活继续\r\n    onContinue(): void {\r\n        Util.ClickButton(this.btnContinue, this, function () {\r\n            this.gameControl.createHero();\r\n\r\n            this.gameBox.alpha = 1;\r\n            this.result.visible = false;\r\n            this.resultScore.visible = false;\r\n        });\r\n    }\r\n\r\n    // 重新开始\r\n    onRestart(): void {\r\n        Util.ClickButton(this.btnRestart, this, function () {\r\n            this.init();\r\n        });\r\n    }\r\n\r\n    // 回到首页\r\n    onBack(): void {\r\n        Util.ClickButton(this.btnBack, this, function () {\r\n            // 重置复活次数\r\n            this.gameControl.heroModel.deathCount = 0;\r\n\r\n            // 关闭背景音乐\r\n            this.music.stop();\r\n\r\n            // 清理对象池 TODO...\r\n\r\n            // 打开首页场景\r\n            Laya.Scene.open(\"scene/loginScene.scene\");\r\n        });\r\n    }\r\n\r\n    // 使用炸弹\r\n    onUseBomb(): void {\r\n        this.btnBomb.on(Laya.Event.CLICK, this, function () {\r\n            if (this.gameControl.totalBomb == 0 || this.gameControl.heroModel.death) {\r\n                return;\r\n            }\r\n\r\n            Laya.SoundManager.playSound(\"sound/use_bomb.mp3\");\r\n\r\n            this.gameControl.totalBomb--;\r\n            this.showBomb();\r\n\r\n            this.gameControl.cleanEnemy();\r\n        });\r\n    }\r\n\r\n    // 显示复活按钮\r\n    showBtnContinue(): void {\r\n        // 之前使用过复活按钮,需要还原复活按钮\r\n        if (this.gameControl.heroModel.deathCount > 0) {\r\n            this.btnContinue.visible = true;\r\n            this.tips.visible = true;\r\n\r\n            // 其他按钮位置还原\r\n            this.btnRestart.pos(this.btnRestart.x, this.btnRestart.y + 90);\r\n            this.btnBack.pos(this.btnBack.x, this.btnBack.y + 90);\r\n        }\r\n    }\r\n\r\n    // 隐藏复活按钮\r\n    hideBtnContinue(): void {\r\n        this.btnContinue.visible = false;\r\n        this.tips.visible = false;\r\n\r\n        // 其他按钮上移\r\n        this.btnRestart.pos(this.btnRestart.x, this.btnRestart.y - 90);\r\n        this.btnBack.pos(this.btnBack.x, this.btnBack.y - 90);\r\n    }\r\n\r\n    // 显示分数\r\n    showScore(): void {\r\n        this.score.changeText(this.gameControl.totalScore.toString());\r\n    }\r\n\r\n    // 显示炸弹数\r\n    showBomb(): void {\r\n        this.bomb.changeText(\"X \" + this.gameControl.totalBomb);\r\n    }\r\n\r\n    // 显示本局得分\r\n    showCurScore(): void {\r\n        this.curScore.changeText(this.gameControl.totalScore.toString());\r\n    }\r\n\r\n    // 显示历史最高\r\n    showMaxScore(): void {\r\n        this.maxScore.changeText(this.gameControl.totalScore.toString());\r\n    }\r\n}","import Util from \"../../common/Util\";\r\nimport { ui } from \"../../ui/layaMaxUI\";\r\nimport Background from \"../game/Background\";\r\nimport Adjust from \"../Adjust\";\r\nimport Hero from \"../game/Hero\";\r\n\r\nexport default class LoginScene extends ui.scene.loginSceneUI {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n        Adjust.adjustScene(this);\r\n    }\r\n\r\n    onEnable(): void {\r\n        this.setting.visible = false;\r\n\r\n        this.onBackground();\r\n\r\n        this.onBtnStart();\r\n\r\n        this.onBtnRank();\r\n\r\n        this.onBtnSetting();\r\n\r\n        this.onBtnMusic();\r\n\r\n        this.onBtnSound();\r\n\r\n        this.onBtnBack();\r\n    }\r\n\r\n    onDisable(): void {\r\n\r\n    }\r\n\r\n    // 背景\r\n    onBackground(): void {\r\n        Laya.SoundManager.useAudioMusic = false;\r\n\r\n        let comp = this.background.getComponent(Background);\r\n        comp.width = this.width;\r\n        comp.height = this.height;\r\n    }\r\n\r\n    // 开始游戏\r\n    onBtnStart(): void {\r\n        Util.ClickButton(this.btnStart, this, function () {\r\n            // 打开游戏场景\r\n            Laya.Scene.open(\"scene/gameScene.scene\");\r\n        });\r\n    }\r\n\r\n    // 排行榜\r\n    onBtnRank(): void {\r\n        Util.ClickButton(this.btnRank, this, function () {\r\n\r\n        });\r\n    }\r\n\r\n    // 设置\r\n    onBtnSetting(): void {\r\n        Util.ClickButton(this.btnSetting, this, function () {\r\n            this.menu.visible = false;\r\n            this.setting.visible = true;\r\n        });\r\n    }\r\n\r\n    // 音乐\r\n    onBtnMusic(): void {\r\n        Util.ClickButton(this.btnMusic, this, function () {\r\n            if (this.btnMusic.label == \"开启\") {\r\n                this.btnMusic.label = \"关闭\";\r\n                Laya.SoundManager.musicMuted = true;\r\n            } else {\r\n                this.btnMusic.label = \"开启\";\r\n                Laya.SoundManager.musicMuted = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    // 音效\r\n    onBtnSound(): void {\r\n        Util.ClickButton(this.btnSound, this, function () {\r\n            if (this.btnSound.label == \"开启\") {\r\n                this.btnSound.label = \"关闭\";\r\n                Laya.SoundManager.soundMuted = true;\r\n            } else {\r\n                this.btnSound.label = \"开启\";\r\n                Laya.SoundManager.soundMuted = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    // 回到游戏\r\n    onBtnBack(): void {\r\n        Util.ClickButton(this.btnBack, this, function () {\r\n            this.menu.visible = true;\r\n            this.setting.visible = false;\r\n        });\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport GameScene from \"./view/game/GameScene\"\nimport Background from \"./view/game/Background\"\nimport GameControl from \"./view/game/GameControl\"\nimport LoginScene from \"./view/login/LoginScene\"\nimport Hero from \"./view/game/Hero\"\nimport Buff from \"./view/game/Buff\"\nimport Bullet from \"./view/game/Bullet\"\nimport Enemy from \"./view/game/Enemy\"\nimport Ufo from \"./view/game/Ufo\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=640;\r\n    static height:number=960;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"top\";\r\n    static alignH:string=\"left\";\r\n    static startScene:any=\"scene/loginScene.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"view/game/GameScene.ts\",GameScene);\n        reg(\"view/game/Background.ts\",Background);\n        reg(\"view/game/GameControl.ts\",GameControl);\n        reg(\"view/login/LoginScene.ts\",LoginScene);\n        reg(\"view/game/Hero.ts\",Hero);\n        reg(\"view/game/Buff.ts\",Buff);\n        reg(\"view/game/Bullet.ts\",Bullet);\n        reg(\"view/game/Enemy.ts\",Enemy);\n        reg(\"view/game/Ufo.ts\",Ufo);\r\n    }\r\n}\r\nGameConfig.init();","import GameConfig from \"./GameConfig\";\r\nimport Util from \"./common/Util\";\r\nimport Adjust from \"./view/Adjust\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError = true;\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t};\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":[],"mappings":"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"}